# eLKA Universe Data Standard v1.0

This document defines the standard directory structure and file format for fictional universes managed by the eLKA Studio application.

## 1. General Principles

* **Encoding:** All files MUST use UTF-8 encoding.
* **Format:** All descriptive files MUST use Markdown (`.md`).
* **Identifiers:** Entities (Characters, Locations, etc.) MUST be identified by a unique, stable `id` generated by the system. This `id` is used for filenames and internal linking.

## 2. Root Directory Structure

A compliant eLKA universe repository MUST adhere to the following top-level structure:

* `/Entities/`: Contains canonical information about all entities.
    * `/Entities/Characters/`: Files describing characters.
    * `/Entities/Locations/`: Files describing locations.
    * `/Entities/Events/`: Files describing events.
    * `/Entities/Concepts/`: Files describing abstract concepts, world rules, magic systems, etc.
    * `/Entities/Items/`: Files describing specific items.
    * `/Entities/Misc/`: For entities that don't fit elsewhere (use sparingly).
* `/Stories/`: Contains narrative texts (stories, chapters). May contain subdirectories for organization (e.g., `/Stories/Saga_Name/`).
* `/Canon/`: Contains foundational lore, history, and rules defining the universe framework.
    * `CoreTruths.md`: Key file with immutable facts used for validation.
    * Other `.md` files for specific legends, myths, rules.
* `/Metadata/`: Files describing the universe as a whole.
    * `UniverseStandard.md`: **Mandatory file** indicating the version of this standard (e.g., "eLKA Universe Standard v1.0").
    * `Timeline.md`: Chronological overview of major events.
* `/Instructions/`: (Optional) Guidelines for writers, style guides, etc.
* `README.md`: Main description of the universe in the root directory.

## 3. Entity File Format (`/Entities/**/*.md`)

* **Filename:** MUST be `{entity_id}.md`. The `{entity_id}` MUST be unique and stable across the universe. Human-readable names MUST NOT be used for entity filenames.
* **Content:** MUST start with a **YAML Front Matter** block (between `---` and `---`) containing structured metadata.
* **YAML Front Matter Schema:**
    ```yaml
    ---
    id: string       # Unique ID (matches filename without .md) - REQUIRED
    type: string     # Entity type (Character, Location, Event, Concept, Item, Misc) - REQUIRED
    name: string     # Primary human-readable name - REQUIRED
    aliases: [string] # List of alternative names (optional)
    summary: string  # Short description (1-2 sentences) (optional)
    relationships:   # Links to other entities (optional)
      entity_id_1: "Description of relation (e.g., Father of Character X)"
      entity_id_2: "Located in Location Y"
    # ... other type-specific fields (e.g., status: alive) ...
    ---
    ```
* **Body:** Below the YAML block, the file contains the main descriptive text in Markdown.

## 4. Story File Format (`/Stories/**/*.md`)

* **Filename:** Recommended to be human-readable and sanitized (e.g., `First_Dawn_01.md`). Consistency within the project is key.
* **Content:** MAY optionally start with YAML Front Matter for metadata.
* **YAML Front Matter Schema (Optional):**
    ```yaml
    ---
    title: "First Dawn - Chapter 1"
    author: "AI (Gemini 2.5 Pro)"
    date: "YYYY-MM-DD"
    summary: "Plot summary..."
    related_entities: [entity_id_1, entity_id_2] # Links to involved entity IDs
    ---
    ```
* **Body:** The narrative text in Markdown.

## 5. Canon File Format (`/Canon/**/*.md`)

* **Filename:** Descriptive (e.g., `CoreTruths.md`, `Legend_Of_Seven_Stars.md`).
* **Content:** Markdown describing rules, history, myths. `CoreTruths.md` should contain concise, clear facts (e.g., bullet points) suitable for validation prompts.

## 6. Metadata File Format (`/Metadata/**/*.md`)

* `UniverseStandard.md`: MUST contain plain text indicating the standard version, e.g.: `# eLKA Universe Standard\nVersion: 1.0`.
* `Timeline.md`: Markdown, ideally structured chronologically (e.g., using headings for eras and bullet points for events).

## Versioning

This document describes **Version 1.0** of the eLKA Universe Data Standard. Future versions may introduce changes, such as support for images or more complex relationship types, which will be documented in subsequent versions of this standard. Repositories SHOULD declare the version they adhere to in `/Metadata/UniverseStandard.md`.
